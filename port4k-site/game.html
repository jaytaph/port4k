<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Port4k</title>
    <style>
        body{background:#0d0f14;color:#c7d0dc;font-family:monospace}
        #log{white-space:pre-wrap;padding:16px}
        #bar{position:fixed;bottom:0;left:0;right:0;padding:8px;background:#111625}
        input{width:100%;padding:10px;background:#0f1320;color:#e6eef8;border:1px solid #1d2236}
    </style>
</head>
<body>
<div id="log"></div>
<div id="bar"><input id="in" placeholder="Type commandsâ€¦ (help)"></div>
<script>
    const log=document.getElementById('log');
    const input=document.getElementById('in');
    const ws=new WebSocket((location.protocol==='https:'?'wss://':'ws://')+location.host+'/ws');
    const append=(t)=>{log.textContent+=t;window.scrollTo(0,document.body.scrollHeight);};
    ws.addEventListener('message',(ev)=>append(ev.data));
    input.addEventListener('keydown',(e)=>{if(e.key==='Enter'){ws.send(input.value);input.value='';}});
</script>
</body>
</html>